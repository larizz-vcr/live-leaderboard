<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Leaderboard</title>
    <style>
      .leaderboard {
            font-family: Arial, sans-serif;
            max-width: 800px; /* Increase the max-width if needed */
            margin: 0 auto;
        }
        .leaderboard h2 {
            text-align: center;
        }
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 15px; /* Adjust the padding here */
            border-bottom: 1px solid #ccc;
        }
        .leaderboard-item .name,
        .leaderboard-item .section,
        .leaderboard-item .pts,
        .leaderboard-item .exp,
        .leaderboard-item .rank {
            flex: 1;
            text-align: center;
        }
        .leaderboard-item .name,
        .leaderboard-item .section {
            flex-basis: 20%; /* Set a fixed width for NAME and SECTION */
        }
        .leaderboard-item .pts,
        .leaderboard-item .exp,
        .leaderboard-item .rank {
            flex-basis: 15%; /* Set a fixed width for other columns */
        }
    </style>
</head>
<body>
    <div class="leaderboard">
        <h2>Live Leaderboard</h2>
        <ul id="leaderboard-list">
            <!-- Leaderboard items will be injected here -->
        </ul>
    </div>

    <script>
        // Function to fetch data from CSV file
        async function fetchData() {
            const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vTPtD4E9_BHkMHHbnZOE6eeM1iI6LTgBjbiR_gkt2n2yUv17INhm8hIbCVAEDumD9n5r7nzXFV8qRrA/pub?gid=1791772210&single=true&output=csv'); // Replace 'your_csv_file.csv' with your CSV file URL
            const data = await response.text();
            return data;
        }

        // Function to parse CSV data and populate leaderboard
        async function populateLeaderboard() {
            const csvData = await fetchData();
            const lines = csvData.split('\n');
            const leaderboardList = document.getElementById('leaderboard-list');

            // Clear existing leaderboard items
            leaderboardList.innerHTML = '';

            // Populate leaderboard with data from CSV
            lines.forEach((line, index) => {
                const [name, section, pts, exp, rank] = line.split(',');
                if (index === 0) return; // Skip header row
                const listItem = document.createElement('li');
                listItem.classList.add('leaderboard-item');
                listItem.innerHTML = `
                    <div class="name">${name}</div>
                    <div class="section">${section}</div>
                    <div class="pts">${pts}</div>
                    <div class="exp">${exp}</div>
                    <div class="rank">${rank}</div>
                `;
                leaderboardList.appendChild(listItem);
            });
        }

        // Call the populateLeaderboard function when the page loads
        window.onload = populateLeaderboard;
    </script>
</body>
</html>
